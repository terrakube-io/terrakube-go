{"id":"tkgo-1e4","title":"Add Example test functions for godoc documentation","description":"## Context\nGo's Example* test functions serve double duty: they appear in godoc as runnable examples AND they're compiled and executed by go test, ensuring documentation never drifts from reality. Currently there are zero Example functions in the codebase.\n\n## What to Do\n- Add Example functions for the most common API operations:\n  - ExampleNewClient - creating a client with options\n  - ExampleOrganizationService_List - listing resources\n  - ExampleOrganizationService_Get - getting a single resource\n  - ExampleOrganizationService_Create - creating a resource\n  - ExampleWorkspaceService_List - nested resource listing (org -\u003e workspace)\n- Place in appropriate *_test.go files (external test package: terrakube_test)\n- Each example should use httptest.NewServer to be self-contained and runnable\n\n## Acceptance Criteria\n- [ ] At least 5 Example functions covering core CRUD patterns\n- [ ] All examples compile and pass via `go test`\n- [ ] Examples appear correctly in `go doc` output\n- [ ] Examples demonstrate the most common usage patterns a new consumer would need\n- [ ] Examples use the external test package (terrakube_test) for realistic import paths\n\n## Notes\n- Examples are the #1 thing new users look for when evaluating a Go library\n- go test already runs Example functions, so this adds compile-time verification for free\n- The Output: comment at the end of each example is optional but recommended for verification\n- Start with the happy path; error handling examples can come later\n\n## Reference\n- https://go.dev/blog/examples\n- https://pkg.go.dev/testing#hdr-Examples","status":"in_progress","priority":3,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T12:32:37.495866-06:00","created_by":"dwebb","updated_at":"2026-02-11T12:40:21.278276-06:00"}
{"id":"tkgo-1gd","title":"Add gorelease for API breaking change detection","description":"## Context\nAs an open source client library, consumers depend on our public API surface. There's currently no automated way to detect if a PR introduces a breaking change (removed/renamed exported types, changed function signatures, etc.). gorelease compares the current code against the latest tagged release and reports incompatible changes.\n\n## What to Do\n- Add a CI job that runs `gorelease` to diff the API surface against the last release tag\n- Install via `go install golang.org/x/exp/cmd/gorelease@latest`\n- Should warn (not necessarily fail) on breaking changes, or fail if on a minor/patch version bump\n\n## Acceptance Criteria\n- [ ] CI runs gorelease on PRs\n- [ ] Reports any breaking API changes (added/removed/changed exported symbols)\n- [ ] Output is visible in PR checks\n- [ ] Does not block PRs outright (advisory initially), can be made blocking later\n\n## Implementation Notes\n```yaml\n- name: Check API compatibility\n  run: |\n    go install golang.org/x/exp/cmd/gorelease@latest\n    gorelease || true  # advisory mode, don't fail yet\n```\n\n## Considerations\n- Requires at least one tagged release to compare against (we have tags from release.yml)\n- Can be made strict (fail on breaking changes) once semver discipline is established\n- gorelease output clearly lists: compatible changes, breaking changes, and suggested version bump\n\n## Reference\n- https://pkg.go.dev/golang.org/x/exp/cmd/gorelease\n- Used by many Go standard library and official tooling repos","status":"closed","priority":3,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T12:32:26.426633-06:00","created_by":"dwebb","updated_at":"2026-02-11T12:40:55.240661-06:00","closed_at":"2026-02-11T12:40:55.240661-06:00","close_reason":"Closed"}
{"id":"tkgo-310","title":"Add atomic operations (/operations) support","description":"The OpenAPI spec v2.27.0 defines a POST /operations endpoint for JSON:API atomic operations (ext='https://jsonapi.org/ext/atomic'). This is NOT a standard CRUD resource -- it uses a batch operation pattern with 'add', 'update', 'remove' ops against multiple resource types in a single request. The Go client currently has no support for this. This would require a new service that uses requestRaw/doRaw with the atomic operations content type and a custom request/response model. Endpoints: POST /api/v1/operations. Operations: add, update, remove. Each op includes a ref (type, id, lid, relationship, href) and data payload.","status":"in_progress","priority":3,"issue_type":"feature","owner":"dwebb@thig.com","created_at":"2026-02-11T10:56:19.379619-06:00","created_by":"dwebb","updated_at":"2026-02-11T12:39:56.758355-06:00"}
{"id":"tkgo-3is","title":"Add coverage threshold gate to CI","description":"## Context\nCoverage is uploaded to Codecov on main pushes but PRs are not gated on coverage. A contributor could merge a PR that drops coverage from 96.6% to 50% with no CI failure. Need a minimum threshold to prevent merging PRs that skip tests.\n\n## What to Do\nOption A (Codecov): Add a `.codecov.yml` with project/patch coverage targets\nOption B (Go native): Add a step that parses coverage.out and fails if below threshold\nOption A is preferred since we already use Codecov.\n\n## Acceptance Criteria\n- [ ] PRs that decrease coverage below threshold fail CI\n- [ ] Threshold set to a reasonable floor (e.g., 85% project, 80% patch)\n- [ ] Coverage check runs on PRs, not just main pushes\n- [ ] Codecov status check appears on PRs\n\n## Implementation Details (Option A)\nCreate `.codecov.yml`:\n```yaml\ncoverage:\n  status:\n    project:\n      default:\n        target: 85%\n    patch:\n      default:\n        target: 80%\n```\n\nAlso need to update ci.yml to upload coverage on PRs too (currently only on push to main).\n\n## Current State\n- 96.6% statement coverage (86.9% including testutil package)\n- Coverage only uploaded on push to main, not on PRs\n- No Codecov config file exists","status":"in_progress","priority":2,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T12:32:13.423575-06:00","created_by":"dwebb","updated_at":"2026-02-11T12:41:00.001622-06:00"}
{"id":"tkgo-5bz","title":"Add govulncheck to CI","description":"## Context\ngovulncheck scans Go dependencies for known CVEs in the Go vulnerability database. Currently we have no vulnerability scanning. This is especially important for an open source library where consumers inherit our dependency tree.\n\n## What to Do\n- Add a new CI job (or step) that runs `govulncheck ./...`\n- Install via `go install golang.org/x/vuln/cmd/govulncheck@latest`\n- Should fail the build if any known vulnerabilities are found in dependencies\n\n## Acceptance Criteria\n- [ ] New `security` or `vulncheck` job in ci.yml\n- [ ] Runs `govulncheck ./...` against the codebase\n- [ ] Build fails if vulnerabilities are detected\n- [ ] Currently passes (google/jsonapi v1.0.0 has no known vulns as of now)\n\n## Reference\n- https://pkg.go.dev/golang.org/x/vuln/cmd/govulncheck\n- Go team's official vulnerability scanner\n- Zero config needed, just run it","status":"closed","priority":2,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T12:31:56.498609-06:00","created_by":"dwebb","updated_at":"2026-02-11T12:40:39.076768-06:00","closed_at":"2026-02-11T12:40:39.076768-06:00","close_reason":"Closed"}
{"id":"tkgo-6wf","title":"Add go mod tidy check to CI","description":"## Context\nThere's no CI check ensuring go.mod and go.sum stay clean. A contributor could commit with stale module files (added a dependency but didn't run go mod tidy, or removed usage but left the require). This causes confusing issues for downstream consumers.\n\n## What to Do\n- Add a CI step that runs `go mod tidy` then checks for uncommitted changes\n- Should fail if go.mod or go.sum would change after tidy\n\n## Acceptance Criteria\n- [ ] CI runs `go mod tidy` and verifies no diff in go.mod/go.sum\n- [ ] Fails the build if module files are not tidy\n- [ ] Currently passes (modules are clean)\n\n## Implementation\nAdd to lint job or as a separate job:\n```yaml\n- name: Check go.mod tidy\n  run: |\n    go mod tidy\n    git diff --exit-code go.mod go.sum\n```\n\n## Notes\n- Simple, effective, and catches a common class of errors\n- Many Go OSS projects include this as a standard check","status":"closed","priority":2,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T12:32:18.029971-06:00","created_by":"dwebb","updated_at":"2026-02-11T12:40:06.967826-06:00","closed_at":"2026-02-11T12:40:06.967826-06:00","close_reason":"Closed"}
{"id":"tkgo-9qf","title":"Add explicit go vet step to CI","description":"## Context\ngovet is enabled in golangci-lint config, but running standalone `go vet ./...` as a belt-and-suspenders guarantee is best practice. go vet is the canonical Go analysis pass and catches issues that some linter wrappers might miss or misconfigure.\n\n## What to Do\n- Add `go vet ./...` as a step in the lint job (or as a separate job)\n- Should run before golangci-lint\n\n## Acceptance Criteria\n- [ ] `go vet ./...` runs in CI\n- [ ] Fails the build on any vet findings\n- [ ] Currently passes cleanly\n\n## Notes\n- Low effort, low risk. Just an extra `run:` step.\n- Some teams skip this since golangci-lint includes govet. Reasonable to deprioritize.","status":"closed","priority":3,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T12:32:00.5879-06:00","created_by":"dwebb","updated_at":"2026-02-11T12:40:21.575724-06:00","closed_at":"2026-02-11T12:40:21.575724-06:00","close_reason":"Closed"}
{"id":"tkgo-9th","title":"Audit Terrakube API coverage gaps in Go client","description":"Assess the full Terrakube API surface area against the current Go client library and identify which APIs are missing. The current client covers 22 resource services: Organizations, Workspaces, Modules, Teams, TeamTokens, Variables, OrganizationVariables, Templates, Tags, VCS, SSH, Agents, Collections, CollectionItems, CollectionReferences, WorkspaceTags, WorkspaceAccess, WorkspaceSchedules, Webhooks, WebhookEvents, History, and Jobs. This audit needs to discover all Terrakube REST API endpoints from their documentation/source code (https://github.com/AzBuilder/terrakube), catalog current coverage, and produce a gap analysis with priority recommendations for missing resources.","design":"Approach: (1) Pull Terrakube API controller/route definitions from AzBuilder/terrakube GitHub repo to enumerate all REST endpoints. (2) Cross-reference against the 22 services in client.go. (3) Categorize gaps by resource type (CRUD operations, relationships, special endpoints). (4) Prioritize based on Terraform provider usage patterns and common automation needs.","acceptance_criteria":"- [ ] Full list of Terrakube API endpoints documented (from Terrakube source/docs)\n- [ ] Current Go client coverage mapped against API surface\n- [ ] Gap analysis produced listing missing resources/endpoints\n- [ ] Each gap prioritized (P0-P4) based on typical client usage\n- [ ] Recommendations documented for implementation order\n- [ ] Results captured in a bead or linked document for future implementation tracking","notes":"Terrakube uses JSON:API spec. Source repo: https://github.com/AzBuilder/terrakube. The Go client uses google/jsonapi for serialization. Some endpoints (like TeamToken) use raw JSON instead of JSON:API format - watch for similar patterns in undiscovered endpoints.","status":"closed","priority":2,"issue_type":"feature","owner":"dwebb@thig.com","created_at":"2026-02-11T08:46:54.109928-06:00","created_by":"dwebb","updated_at":"2026-02-11T09:42:28.579976-06:00","closed_at":"2026-02-11T09:42:28.579976-06:00","close_reason":"Killed by Dennis","labels":["groomed"]}
{"id":"tkgo-cg5","title":"Add Dependabot config for Go modules","description":"## Context\nDependabot is configured for github-actions but NOT for gomod (Go modules). We currently have one direct dependency (google/jsonapi v1.0.0) but as dependencies grow, automated CVE/update PRs for go.mod are essential.\n\n## What to Do\n- Update `.github/dependabot.yml` to add a `gomod` package ecosystem entry\n- Configure weekly schedule (matching the github-actions cadence)\n- Target the main branch\n\n## Acceptance Criteria\n- [ ] `.github/dependabot.yml` includes `package-ecosystem: gomod`\n- [ ] Schedule set to weekly\n- [ ] Directory set to `/`\n- [ ] Dependabot creates PRs for Go module updates automatically\n\n## Example Config Addition\n```yaml\n- package-ecosystem: gomod\n  directory: /\n  schedule:\n    interval: weekly\n```\n\n## Reference\n- https://docs.github.com/en/code-security/dependabot/dependabot-version-updates/configuration-options-for-the-dependabot.yml-file","status":"closed","priority":2,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T12:32:06.320424-06:00","created_by":"dwebb","updated_at":"2026-02-11T12:37:47.943193-06:00","closed_at":"2026-02-11T12:37:47.943193-06:00","close_reason":"Already implemented - dependabot.yml already has gomod ecosystem configured"}
{"id":"tkgo-lhn","title":"terrakube-go v2: generics refactor + feature completeness","description":"Rewrite terrakube-go using Go generics for the CRUD base layer, update all models to full field coverage from OpenAPI spec v2.27.0, and add 8 missing resource services. Target: 30 JSON:API resources + TeamToken custom endpoint.","status":"closed","priority":1,"issue_type":"epic","owner":"dwebb@thig.com","created_at":"2026-02-11T09:28:17.938335-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:23:14.857935-06:00","closed_at":"2026-02-11T10:23:14.857935-06:00","close_reason":"Epic complete: generics refactor + 8 new services + model updates + full test coverage"}
{"id":"tkgo-lhn.1","title":"Implement generic CRUD base (crud.go)","description":"Create crud.go with a generic crudService[T any] struct embedding *Client. Methods: list(), get(), create(), update(), del(). Handles JSON:API marshaling, filter params (filter[resourceType]), ID validation, error handling. This is the foundation everything else builds on. Must support ListOptions with filter param keyed by resource type name.","status":"closed","priority":1,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T09:28:27.309992-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:08:00.4888-06:00","closed_at":"2026-02-11T10:08:00.4888-06:00","close_reason":"crud.go implemented, build/lint/test pass","dependencies":[{"issue_id":"tkgo-lhn.1","depends_on_id":"tkgo-lhn","type":"parent-child","created_at":"2026-02-11T09:28:27.310485-06:00","created_by":"dwebb"}]}
{"id":"tkgo-lhn.10","title":"Add Implementation service + model","description":"New resource. JSON:API type: implementation. Nested: /organization/{orgId}/provider/{providerId}/version/{versionId}/implementation. Fields: os, arch, filename, downloadUrl, shasumsUrl, shasumsSignatureUrl, shasum, keyId, asciiArmor, trustSignature, source, sourceUrl. Relation: version. Full CRUD. Also accessible flat at /implementation/{id}.","status":"closed","priority":2,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T09:29:39.940839-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:15:25.82708-06:00","closed_at":"2026-02-11T10:15:25.82708-06:00","close_reason":"Service files created with crudService[T] pattern","dependencies":[{"issue_id":"tkgo-lhn.10","depends_on_id":"tkgo-lhn","type":"parent-child","created_at":"2026-02-11T09:29:39.941314-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.10","depends_on_id":"tkgo-lhn.2","type":"blocks","created_at":"2026-02-11T09:30:05.573329-06:00","created_by":"dwebb"}]}
{"id":"tkgo-lhn.11","title":"Add ModuleVersion service + model","description":"New resource. JSON:API type: module_version. Nested: /organization/{orgId}/module/{moduleId}/version. Fields: version, commit. Relation: module. Full CRUD.","status":"closed","priority":2,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T09:29:40.03379-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:15:25.829165-06:00","closed_at":"2026-02-11T10:15:25.829165-06:00","close_reason":"Service files created with crudService[T] pattern","dependencies":[{"issue_id":"tkgo-lhn.11","depends_on_id":"tkgo-lhn","type":"parent-child","created_at":"2026-02-11T09:29:40.034293-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.11","depends_on_id":"tkgo-lhn.2","type":"blocks","created_at":"2026-02-11T09:30:05.657395-06:00","created_by":"dwebb"}]}
{"id":"tkgo-lhn.12","title":"Add GithubAppToken service + model","description":"New resource. JSON:API type: github_app_token. Flat endpoint: /github_app_token. Fields: appId, installationId, owner, token (secret) + audit fields. Full CRUD. Top-level resource, no parent ID.","status":"closed","priority":2,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T09:29:40.127815-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:15:25.830684-06:00","closed_at":"2026-02-11T10:15:25.830684-06:00","close_reason":"Service files created with crudService[T] pattern","dependencies":[{"issue_id":"tkgo-lhn.12","depends_on_id":"tkgo-lhn","type":"parent-child","created_at":"2026-02-11T09:29:40.128278-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.12","depends_on_id":"tkgo-lhn.2","type":"blocks","created_at":"2026-02-11T09:30:05.739254-06:00","created_by":"dwebb"}]}
{"id":"tkgo-lhn.13","title":"Add Address service + model","description":"New resource. JSON:API type: address. Nested under job. Fields: name, type (enum: AddressType) + audit fields. Relation: job. Also accessible via flat /address/{id}. Represents Terraform managed resource addresses in job output.","status":"closed","priority":2,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T09:29:40.220402-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:15:25.832261-06:00","closed_at":"2026-02-11T10:15:25.832261-06:00","close_reason":"Service files created with crudService[T] pattern","dependencies":[{"issue_id":"tkgo-lhn.13","depends_on_id":"tkgo-lhn","type":"parent-child","created_at":"2026-02-11T09:29:40.220877-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.13","depends_on_id":"tkgo-lhn.2","type":"blocks","created_at":"2026-02-11T09:30:05.833176-06:00","created_by":"dwebb"}]}
{"id":"tkgo-lhn.14","title":"Update tests for all refactored and new services","description":"Ensure all 30 resource services + TeamToken have passing tests. Update existing tests to work with refactored generics-based services. Add tests for 8 new resources. Verify CI passes (go test, golangci-lint).","status":"closed","priority":2,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T09:29:51.238761-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:21:55.981204-06:00","closed_at":"2026-02-11T10:21:55.981204-06:00","close_reason":"128 new tests for 8 new services, all existing tests pass, 0 lint issues","dependencies":[{"issue_id":"tkgo-lhn.14","depends_on_id":"tkgo-lhn","type":"parent-child","created_at":"2026-02-11T09:29:51.239345-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.14","depends_on_id":"tkgo-lhn.4","type":"blocks","created_at":"2026-02-11T09:30:05.916085-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.14","depends_on_id":"tkgo-lhn.5","type":"blocks","created_at":"2026-02-11T09:30:06.019771-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.14","depends_on_id":"tkgo-lhn.6","type":"blocks","created_at":"2026-02-11T09:30:06.114692-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.14","depends_on_id":"tkgo-lhn.7","type":"blocks","created_at":"2026-02-11T09:30:06.192618-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.14","depends_on_id":"tkgo-lhn.8","type":"blocks","created_at":"2026-02-11T09:30:06.287359-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.14","depends_on_id":"tkgo-lhn.9","type":"blocks","created_at":"2026-02-11T09:30:06.381192-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.14","depends_on_id":"tkgo-lhn.10","type":"blocks","created_at":"2026-02-11T09:30:06.474747-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.14","depends_on_id":"tkgo-lhn.11","type":"blocks","created_at":"2026-02-11T09:30:06.584681-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.14","depends_on_id":"tkgo-lhn.12","type":"blocks","created_at":"2026-02-11T09:30:06.665461-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.14","depends_on_id":"tkgo-lhn.13","type":"blocks","created_at":"2026-02-11T09:30:06.759623-06:00","created_by":"dwebb"}]}
{"id":"tkgo-lhn.15","title":"Update CI and documentation for v2","description":"Update README, ensure CI workflow passes with all new code. Verify golangci-lint clean. Update go.mod if needed. Tag as v2 or appropriate semver bump since the internal architecture changed (public API should remain compatible).","status":"closed","priority":3,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T09:29:51.351804-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:23:12.10124-06:00","closed_at":"2026-02-11T10:23:12.10124-06:00","close_reason":"README updated with 8 new resources, AGENTS.md updated with generics architecture, CI unchanged, all quality gates pass","dependencies":[{"issue_id":"tkgo-lhn.15","depends_on_id":"tkgo-lhn","type":"parent-child","created_at":"2026-02-11T09:29:51.352348-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.15","depends_on_id":"tkgo-lhn.14","type":"blocks","created_at":"2026-02-11T09:30:06.865137-06:00","created_by":"dwebb"}]}
{"id":"tkgo-lhn.2","title":"Refactor OrganizationService as generics proof-of-concept","description":"Refactor OrganizationService to embed crudService[Organization] and delegate CRUD to generic base. This validates the generics approach before touching all 20 other services. Existing tests must still pass.","status":"closed","priority":1,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T09:28:51.261921-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:11:04.104221-06:00","closed_at":"2026-02-11T10:11:04.104221-06:00","close_reason":"OrganizationService refactored to generics, all tests pass","dependencies":[{"issue_id":"tkgo-lhn.2","depends_on_id":"tkgo-lhn","type":"parent-child","created_at":"2026-02-11T09:28:51.262432-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.2","depends_on_id":"tkgo-lhn.1","type":"blocks","created_at":"2026-02-11T09:30:04.870471-06:00","created_by":"dwebb"}]}
{"id":"tkgo-lhn.3","title":"Write comprehensive tests for generic CRUD base","description":"Table-driven tests for crudService generic base: List (with/without filter), Get (valid/empty ID), Create, Update (valid/empty ID), Delete (valid/empty ID), HTTP error handling (4xx, 5xx). Use testutil mock server. These tests validate the core once so per-resource tests can be thin.","status":"closed","priority":1,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T09:28:51.374766-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:13:51.850169-06:00","closed_at":"2026-02-11T10:13:51.850169-06:00","close_reason":"26 test cases covering all CRUD methods, all passing","dependencies":[{"issue_id":"tkgo-lhn.3","depends_on_id":"tkgo-lhn","type":"parent-child","created_at":"2026-02-11T09:28:51.375227-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.3","depends_on_id":"tkgo-lhn.1","type":"blocks","created_at":"2026-02-11T09:30:04.956007-06:00","created_by":"dwebb"}]}
{"id":"tkgo-lhn.4","title":"Refactor remaining 20 existing services to use generic CRUD base","description":"Refactor all existing services to embed crudService[T] and delegate to generic base. Services: Workspace, Module, Team, Variable, OrgVariable, Template, Tag, VCS, SSH, Agent, Collection, CollectionItem, CollectionReference, WorkspaceTag, WorkspaceAccess, WorkspaceSchedule, Webhook, WebhookEvent, History, Job. TeamToken stays custom (non-JSON:API). Each service becomes thin typed wrappers (~5-8 lines per method: validate IDs, build path, delegate). All existing tests must pass.","status":"closed","priority":2,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T09:29:07.018509-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:16:30.723088-06:00","closed_at":"2026-02-11T10:16:30.723088-06:00","close_reason":"All 20 services refactored to generics, models updated, all tests pass","dependencies":[{"issue_id":"tkgo-lhn.4","depends_on_id":"tkgo-lhn","type":"parent-child","created_at":"2026-02-11T09:29:07.019023-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.4","depends_on_id":"tkgo-lhn.2","type":"blocks","created_at":"2026-02-11T09:30:05.034827-06:00","created_by":"dwebb"}]}
{"id":"tkgo-lhn.5","title":"Update all existing model structs with complete fields from OpenAPI spec","description":"Update model structs to match server OpenAPI spec v2.27.0 field coverage. Key gaps:\n\n- Workspace: add locked, lockDescription, moduleSshKey, lastJobStatus, lastJobDate + audit fields + relations (agent, ssh, organization, etc.)\n- Job: add approvalTeam, comments, commitId, overrideBranch, planChanges, refresh, refreshOnly, tcl, templateReference, terraformPlan, via + audit fields + relations (step, workspace, organization, address)\n- Module: add downloadQuantity, latestVersion, registryPath + audit fields\n- History: add serial, md5, lineage + audit fields\n- Schedule: add description, enabled + audit fields  \n- VCS: add callback, accessToken, redirectUrl + audit fields\n- All other models: add createdBy, createdDate, updatedBy, updatedDate where supported by server\n\nUse OpenAPI spec at ../terrakube/openapi-spec/v2_27_0.yml as source of truth for field names.","status":"closed","priority":2,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T09:29:19.993547-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:16:30.725209-06:00","closed_at":"2026-02-11T10:16:30.725209-06:00","close_reason":"All 20 services refactored to generics, models updated, all tests pass","dependencies":[{"issue_id":"tkgo-lhn.5","depends_on_id":"tkgo-lhn","type":"parent-child","created_at":"2026-02-11T09:29:19.994104-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.5","depends_on_id":"tkgo-lhn.2","type":"blocks","created_at":"2026-02-11T09:30:05.124337-06:00","created_by":"dwebb"}]}
{"id":"tkgo-lhn.6","title":"Add Action service + model","description":"New resource. JSON:API type: action. Flat endpoint: /action, /action/{id}. Fields: action (string), active (bool), category, description, displayCriteria, label, name, type, version + audit fields. No parent ID needed (top-level resource). Full CRUD.","status":"closed","priority":2,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T09:29:39.537141-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:14:52.370371-06:00","closed_at":"2026-02-11T10:14:52.370371-06:00","close_reason":"Service files created with crudService[T] pattern","dependencies":[{"issue_id":"tkgo-lhn.6","depends_on_id":"tkgo-lhn","type":"parent-child","created_at":"2026-02-11T09:29:39.537629-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.6","depends_on_id":"tkgo-lhn.2","type":"blocks","created_at":"2026-02-11T09:30:05.222956-06:00","created_by":"dwebb"}]}
{"id":"tkgo-lhn.7","title":"Add Step service + model","description":"New resource. JSON:API type: step. Nested under job. Endpoints via /organization/{orgId}/job/{jobId}/step. Fields: name, output, status, stepNumber. Relation: job. Also accessible via flat /step/{id} endpoint. CRUD operations.","status":"closed","priority":2,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T09:29:39.630294-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:14:52.372344-06:00","closed_at":"2026-02-11T10:14:52.372344-06:00","close_reason":"Service files created with crudService[T] pattern","dependencies":[{"issue_id":"tkgo-lhn.7","depends_on_id":"tkgo-lhn","type":"parent-child","created_at":"2026-02-11T09:29:39.630786-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.7","depends_on_id":"tkgo-lhn.2","type":"blocks","created_at":"2026-02-11T09:30:05.303379-06:00","created_by":"dwebb"}]}
{"id":"tkgo-lhn.8","title":"Add Provider service + model","description":"New resource. JSON:API type: provider. Nested under organization: /organization/{orgId}/provider. Fields: name, description. Relations: organization, version (hasMany). Full CRUD.","status":"closed","priority":2,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T09:29:39.743104-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:14:52.373866-06:00","closed_at":"2026-02-11T10:14:52.373866-06:00","close_reason":"Service files created with crudService[T] pattern","dependencies":[{"issue_id":"tkgo-lhn.8","depends_on_id":"tkgo-lhn","type":"parent-child","created_at":"2026-02-11T09:29:39.743625-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.8","depends_on_id":"tkgo-lhn.2","type":"blocks","created_at":"2026-02-11T09:30:05.393597-06:00","created_by":"dwebb"}]}
{"id":"tkgo-lhn.9","title":"Add ProviderVersion service + model","description":"New resource. JSON:API type: version (provider context). Nested: /organization/{orgId}/provider/{providerId}/version. Fields: versionNumber, protocols. Relations: provider, implementation (hasMany). Full CRUD.","status":"closed","priority":2,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T09:29:39.843618-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:14:52.375256-06:00","closed_at":"2026-02-11T10:14:52.375256-06:00","close_reason":"Service files created with crudService[T] pattern","dependencies":[{"issue_id":"tkgo-lhn.9","depends_on_id":"tkgo-lhn","type":"parent-child","created_at":"2026-02-11T09:29:39.844113-06:00","created_by":"dwebb"},{"issue_id":"tkgo-lhn.9","depends_on_id":"tkgo-lhn.2","type":"blocks","created_at":"2026-02-11T09:30:05.489988-06:00","created_by":"dwebb"}]}
{"id":"tkgo-v35","title":"Fix revive lint: Module.Ssh field should be SSH","description":"module.go:17 has struct field Ssh which should be SSH per Go naming conventions. golangci-lint revive var-naming rule flags this.","status":"closed","priority":3,"issue_type":"bug","owner":"dwebb@thig.com","created_at":"2026-02-11T10:11:11.379276-06:00","created_by":"dwebb","updated_at":"2026-02-11T10:51:52.893946-06:00","closed_at":"2026-02-11T10:51:52.893946-06:00","close_reason":"Fixed by foundation agent during Phase 3a refactoring","dependencies":[{"issue_id":"tkgo-v35","depends_on_id":"tkgo-lhn.3","type":"discovered-from","created_at":"2026-02-11T10:11:18.07954-06:00","created_by":"dwebb"}]}
{"id":"tkgo-vrn","title":"Add Go version matrix to CI","description":"## Context\nCI currently tests only Go 1.24. Open source Go libraries should test against the two most recent Go releases to catch compatibility issues before users report them.\n\n## What to Do\n- Update `.github/workflows/ci.yml` to use a strategy matrix for the `test` and `build` jobs\n- Test against Go 1.23 and 1.24 (the two most recent stable releases)\n- Keep lint pinned to a single Go version (latest) since golangci-lint may not support older versions cleanly\n\n## Acceptance Criteria\n- [ ] `test` job runs against Go 1.23 and 1.24\n- [ ] `build` job runs against Go 1.23 and 1.24\n- [ ] `lint` job remains on Go 1.24 only\n- [ ] All matrix combinations pass CI\n- [ ] Matrix is easy to update when Go 1.25 ships (just bump the list)\n\n## Reference\n- hashicorp/go-tfe tests 3 Go versions\n- google/go-github tests 2 Go versions","status":"closed","priority":2,"issue_type":"task","owner":"dwebb@thig.com","created_at":"2026-02-11T12:31:54.727014-06:00","created_by":"dwebb","updated_at":"2026-02-11T12:39:49.228535-06:00","closed_at":"2026-02-11T12:39:49.228535-06:00","close_reason":"Closed"}
